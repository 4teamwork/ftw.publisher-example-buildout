[buildout]
extends =
    versions.cfg
    sources.cfg

extensions =
    mr.developer

parts =
    zope2
    instanceSender
    instanceReceiver
    omelette
    test



[zope2]
recipe = plone.recipe.zope2install
url = http://www.zope.org/Products/Zope/2.10.10/Zope-2.10.10-final.tgz
fake-zope-eggs = true
additional-fake-eggs =
    Acquisition
    ZConfig
    ZODB3
    Zope2
    pytz
    zope.i18n = 3.4.0



[instanceSender]
recipe = plone.recipe.zope2instance
zope2-location = ${zope2:location}
debug-mode = on
verbose-security = on
http-address = 8080
user = admin:admin
zeo-client = False
eggs =
    Plone
    plone.reload
    ftw.publisher.example[sender]



[instanceReceiver]
recipe = plone.recipe.zope2instance
zope2-location = ${zope2:location}
debug-mode = on
verbose-security = on
http-address = 9080
user = admin:admin
zeo-client = False
eggs =
    Plone
    plone.reload
    ftw.publisher.example[receiver]



[omelette]
recipe = collective.recipe.omelette
eggs =
    ${instanceSender:eggs}
    ${instanceReceiver:eggs}
products =



[test]
recipe = zc.recipe.testrunner
eggs =
    Plone
    ftw.publisher.sender[tests]
    ftw.publisher.receiver[tests]
    ftw.publisher.core[tests]
extra-paths = ${zope2:location}/lib/python
defaults = ['--exit-with-status', '--auto-color', '--auto-progress']
